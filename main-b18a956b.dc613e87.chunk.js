(window.webpackJsonp=window.webpackJsonp||[]).push([[1],{464:function(t,e,n){"use strict";var o=n(20),a=n(482),c=n(17),r=n(46),i=o.a.model({token:"",user_id:"",nickname:"User",level:""}).actions(function(t){return{checkLogin:function(){t.token=localStorage.getItem("token")||"",t.user_id=localStorage.getItem("user_id")||"",t.nickname=localStorage.getItem("nickname")||"User",t.level=localStorage.getItem("level")||"",!t.token&&window.location.pathname.startsWith("/#/login")&&(window.location="/#/login")},login:function(t){Object(c.e)("/users/login",t).then(function(t){t=t.data;localStorage.setItem("token",t.token),localStorage.setItem("user_id",t.id),localStorage.setItem("nickname",t.nickname),localStorage.setItem("level",t.level),window.location.href="/"})}}}),s=o.a.compose(r.a,i),u=n(37),d=n.n(u),l=o.a.model({currentPageSlave:1,currentSentence:""}).actions(function(a){return{list:function(){a.loading=!0,Object(c.b)("/translations",{page:a.currentPage,status:a.currentStatus,keywords:a.currentKeywords}).then(a.setData)},create:function(t){a.loading=!0,Object(c.e)("/translations",t).then(function(){window.location.href="/#/translations"})},createText:function(){a.loading=!0,Object(c.e)("/translation_texts",{master_id:a.item.item.id,raw:a.currentSentence}).then(function(){a.read(a.item.item.id)})},setItem:function(t){a.item=t.data,a.itemPagination={current:a.subCurrentPage,total:t.data.total},a.loading=!1},read:function(t){Object(c.b)("/translations/"+t,{page:a.currentPageSlave}).then(a.setItem)},modifyItemsOfItem:function(t,e){var n,o=d.a.cloneDeep(a.item);for(n in e)o.items[t][n]=e[n];a.item=o},update:function(t,e,n){a.loading=!0,Object(c.f)("/translations/".concat(t),n).then(function(){a.modifyItem(e,n)})}}}),f=o.a.compose(r.a,l),m=n(368),p=o.a.model({currentTranslation:"",currentComment:"",jobStatus:!1,jobProgress:0}).actions(function(n){return{setItem:function(t){n.item=t.data.item,n.currentTranslation=t.data.item.result||"",n.loading=!1},read:function(t){n.currentComment="",Object(c.b)("/translation_texts/"+t).then(n.setItem)},update:function(t,e){n.loading=!0,Object(c.f)("/translation_texts/".concat(t),e).then(n.setItem)},onStartJobResponseLater:function(){n.jobStatus=!1,n.read(n.item.id)},onStartJobResponse:function(t,e){m.b.success("Consumed ".concat(e.data.items," items!")),clearInterval(t),n.jobProgress=100,setTimeout(n.onStartJobResponseLater,1500)},onInterval:function(){n.jobProgress<100&&(n.jobProgress+=1)},startJob:function(){n.jobProgress=0,n.jobStatus=!0;var e=setInterval(n.onInterval,1e3);Object(c.c)("https://eeajldtcjf.execute-api.ap-northeast-1.amazonaws.com/default/translator").then(function(t){return n.onStartJobResponse(e,t)})},createComment:function(){n.loading=!0,Object(c.e)("/translation_text_comments",{master_id:n.item.id,comment:n.currentComment}).then(function(){n.read(n.item.id)})}}}),g=o.a.compose(r.a,p),b=o.a.model({}).actions(function(o){return{list:function(){o.loading=!0,Object(c.b)("/subjects",{page:o.currentPage,status:o.currentStatus,keywords:o.currentKeywords}).then(o.setData)},create:function(t){o.loading=!0,Object(c.e)("/subjects",t).then(function(){window.location.href="/#/subjects"})},update:function(t,e,n){o.loading=!0,Object(c.f)("/subjects/".concat(t),n).then(function(){o.modifyItem(e,n)})}}}),h=o.a.compose(r.a,b),w=o.a.model({}).actions(function(n){return{create:function(t){n.loading=!0,Object(c.e)("/map_plans",t).then(function(){window.location.href="/#/map_plans/"+t.map_id})},setData:function(t){n.item=t.data,n.loading=!1,window.store.map.read(t.data.map_id)},read:function(t){Object(c.b)("/map_plans/"+t).then(function(t){return n.setData(t)})},updateMeta:function(t,e){n.loading=!0,Object(c.f)("/map_plans/".concat(t),e).then(n.hideLoading)}}}),j=o.a.compose(r.a,w),O=o.a.model({markers_loaded:!1,recent_modified_mark_id:0}).actions(function(o){return{create:function(e){o.loading=!0,Object(c.e)("/map_marks",e).then(function(t){return o.deferCreate(e.map_id,t)})},deferCreate:function(t,e){var n=e.data,e=e.error;o.checkError(e)||(o.recent_modified_mark_id=n.id,o.markers_loaded=!1,window.store.map.read(t))},update:function(t,e,n){o.loading=!0,Object(c.f)("/map_marks/".concat(t),n).then(function(t){return o.deferCreate(e,t)})},delete:function(t,e){Object(c.a)("/map_marks/".concat(t)).then(function(t){return o.deferDelete(e,t)})},deferDelete:function(t,e){e.error||(o.markers_loaded=!1,window.store.map.read(t))}}}),k=o.a.compose(r.a,O),y=o.a.model({}).actions(function(o){return{create:function(t){o.loading=!0,Object(c.e)("/maps",t).then(function(t){t=t.error;o.checkError(t)||(window.location.href="/#/maps")})},list:function(){o.loading=!0,Object(c.b)("/maps",{page:o.currentPage,status:o.currentStatus,keywords:o.currentKeywords}).then(o.setData)},read:function(t){window.store.mapMark.modify({markers_loaded:!1}),Object(c.b)("/maps/"+t).then(o.setItemData)},update:function(t,e,n){o.loading=!0,Object(c.f)("/maps/".concat(t),n).then(function(t){t=t.error;null===e||(-1===e?o.checkError(t)||(window.location.href="/#/maps"):null!=e&&(t||o.modifyItem(e,n)))})}}}),_=o.a.compose(r.a,y),I=o.a.model({}).actions(function(o){return{create:function(t){o.loading=!0,Object(c.e)("/bookmarks",t).then(function(t){t=t.error;o.checkError(t)||(window.location.href="/#/bookmarks")})},list:function(){o.loading=!0,Object(c.b)("/bookmarks",{page:o.currentPage,status:o.currentStatus,key:o.currentKey,keywords:o.currentKeywords}).then(o.setData)},update:function(t,e,n){o.loading=!0,Object(c.f)("/bookmarks/".concat(t),n).then(function(t){t.error||(null!=e?o.modifyItem(e,n):window.location.href="/#/bookmarks")})}}}),i=o.a.compose(r.a,I),u=o.a.model({}).actions(function(e){return{create:function(t){e.loading=!0,Object(c.e)("/folders",t).then(function(t){t=t.error;e.checkError(t)||e.list()})},beforeSetData:function(t){t.data.items=t.data.items.map(function(t){return{title:t.title,key:t.id}}).concat([{title:"[+]",key:"create_root_folder",isLeaf:!0}]),e.setData(t),t.data.items&&e.read(t.data.items[0].key)},list:function(){e.loading=!0,Object(c.b)("/folders",{page:e.currentPage}).then(e.beforeSetData)},read:function(t){Object(c.b)("/folders/"+t).then(e.setItemData)}}}),l=o.a.compose(r.a,u),v=n(10),p=o.a.model({currentViewPage:1}).actions(function(a){return{create:function(n,o){a.loading=!0,Object(c.e)("/snippets",n).then(function(t){var e=t.data,t=t.error;a.checkError(t)||(n.parent_id?(a.read(n.parent_id),o&&o()):window.location.href="/#/snippets/".concat(e.snippet_id))})},list:function(){a.loading=!0,Object(c.b)("/snippets",{page:a.currentPage,keywords:a.currentKeywords}).then(a.setData)},setItemData:function(t){t.data&&(a.item=t.data,a.itemPagination=Object(v.a)(Object(v.a)({},a.itemPagination),{},{current:a.currentViewPage,total:t.data.total}),a.loading=!1)},read:function(t){Object(c.b)("/snippets/"+t,{page:a.currentViewPage}).then(a.setItemData)},update:function(t,e,n){a.loading=!0,Object(c.f)("/snippets/".concat(t),n).then(function(){a.read(e)})},delete:function(t){Object(c.a)("/snippets/".concat(t)).then(function(){return window.location.href="/#/"})}}}),b=o.a.compose(r.a,p),w=o.a.model({currentPriority:"",currentStatus:"working"}).actions(function(o){return{create:function(t){o.loading=!0,Object(c.e)("/issues",t).then(function(t){t=t.error;o.checkError(t)||(window.location.href="/#/issues")})},list:function(){o.loading=!0,Object(c.b)("/issues",{page:o.currentPage,priority:o.currentPriority,status:o.currentStatus}).then(o.setData)},update:function(t,e,n){o.loading=!0,Object(c.f)("/issues/".concat(t),e).then(function(t){t=t.data;o.modifyItem(n,{priority:t.item.priority,status:t.item.status,loading:!1})})},delete:function(t){Object(c.a)("/issues/".concat(t)).then(function(){return o.list()})}}}),O=o.a.compose(r.a,w),y=o.a.model({currentStatus:"open",target:o.a.optional(o.a.frozen(),{}),moveMode:!1}).actions(function(r){return{create:function(t){r.loading=!0,Object(c.e)("/todos",t).then(function(t){var e=t.data,t=t.error;r.checkError(t)||(window.location.href="/#/todos/".concat(e.todo_id))})},list:function(){r.loading=!0,Object(c.b)("/todos",{page:r.currentPage,status:r.currentStatus}).then(r.setData)},read:function(t){Object(c.b)("/todos/"+t).then(r.setItemData)},update:function(t,e){r.loading=!0;var n=d.a.clone(r.item);d.a.set(n,t,e),r.item=n,Object(c.f)("/todos/".concat(r.item.id),n).then(r.hideLoading)},moveFromPathToPath:function(t,e){r.loading=!0;var n=d.a.clone(r.item),o=r.target.level+"[".concat(r.target.index,"]"),a=d.a.get(n,o),o=d.a.get(n,r.target.level);d.a.pullAt(o,r.target.index),d.a.set(n,r.target.level,o);o=e+1;t===r.target.level&&r.target.index<e&&(o=e);e=d.a.get(n,t);e.splice(o,0,a),d.a.set(n,t,e),r.item=n,r.moveMode=!1,r.target={},Object(c.f)("/todos/".concat(r.item.id),n).then(r.hideLoading)},updateStatus:function(t){Object(c.d)("/todos/".concat(r.item.id,"/status"),t).then(function(t){t.error||(window.location.href="/#/todos")})}}}),I=o.a.compose(r.a,y),u=o.a.model({currentCategory:"backup"}).actions(function(e){return{create:function(t){e.loading=!0,Object(c.e)("/todos/".concat(t,"/backups")).then(function(){return e.list(t)})},list:function(t){e.loading=!0,Object(c.b)("/todos/".concat(t,"/archives"),{page:e.currentPage,category:e.currentCategory}).then(e.setData)}}}),n=o.a.compose(r.a,u),p=o.a.model({title:"Untitled",content:"# Untitled\n\nThis is a paragraph\n"}).actions(function(e){return{create:function(){Object(c.e)("/docs",{title:e.title,content:e.content}).then(function(t){t=t.data;return window.location.href="/#/docs/edit/".concat(t.id)})},list:function(){e.loading=!0,Object(c.b)("/docs",{page:e.currentPage,keywords:e.currentKeywords}).then(e.setData)},read:function(t){Object(c.b)("/docs/"+t).then(e.setItemData)},setItemData:function(t){t.data&&(e.item=t.data,e.title=t.data.title,e.content=t.data.content,e.loading=!1)},update:function(){Object(c.f)("/docs/".concat(e.item.id),{title:e.title,content:e.content}).then(function(){return e.read(e.item.id)})},delete:function(t){Object(c.a)("/docs/".concat(t)).then(function(){return window.location.href="/#/docs/"})}}}),w=o.a.compose(r.a,p),y=o.a.model({}).actions(function(n){return{create:function(t){n.loading=!0,Object(c.e)("/charts",t).then(function(t){t=t.error;n.checkError(t)||(window.location.href="/#/charts")})},list:function(){n.loading=!0,Object(c.b)("/charts",{page:n.currentPage,keywords:n.currentKeywords}).then(n.setData)},read:function(t){Object(c.b)("/charts/"+t).then(n.setItemData)},update:function(t,e){n.loading=!0,Object(c.f)("/charts/".concat(t),e).then(function(t){var e=t.data;t.error||(window.location.href="/#/charts/".concat(e.id))})}}}),u=o.a.compose(r.a,y),p=o.a.model({currentGroup:"valid"}).actions(function(o){return{create:function(t){o.loading=!0,Object(c.e)("/subscriptions",t).then(function(t){t=t.error;o.checkError(t)||(window.location.href="/#/subscriptions")})},list:function(){o.loading=!0,Object(c.b)("/subscriptions",{page:o.currentPage,group:o.currentGroup}).then(o.setData)},update:function(t,e,n){o.loading=!0,Object(c.f)("/subscriptions/".concat(t),e).then(function(t){var e=t.data;t.error||(null!=n?o.modifyItem(n,{priority:e.item.priority,status:e.item.status,loading:!1}):window.location.href="/#/subscriptions")})},delete:function(t){Object(c.a)("/subscriptions/".concat(t)).then(function(){return o.list()})}}}),y=o.a.compose(r.a,p),p=o.a.model({}).actions(function(o){return{create:function(t){o.loading=!0,Object(c.e)("/pages",t).then(function(t){t=t.error;o.checkError(t)||(window.location.href="/#/pages")})},list:function(){o.loading=!0,Object(c.b)("/pages",{page:o.currentPage,keywords:o.currentKeywords}).then(o.setData)},read:function(e){Object(c.b)("/pages/"+e).then(function(t){return o.setItemData(e,t)})},setItemData:function(t,e){var n=e.error,e=e.data;if(n)return window.location.href="/#/pages/create?title=".concat(t);e&&(o.item=e,o.loading=!1)},update:function(e,t,n){o.loading=!0,Object(c.f)("/pages/".concat(n),t).then(function(t){t.error||(window.location.href="/#/pages/".concat(e))})},delete:function(t){Object(c.a)("/pages/".concat(t)).then(function(){return o.list()})}}}),p=o.a.compose(r.a,p),p=o.a.model({app:o.a.optional(a.a,{}),user:o.a.optional(s,{}),translation:o.a.optional(f,{}),translationText:o.a.optional(g,{}),subject:o.a.optional(h,{}),mapPlan:o.a.optional(j,{}),mapMark:o.a.optional(k,{}),map:o.a.optional(_,{}),bookmark:o.a.optional(i,{}),folder:o.a.optional(l,{}),snippet:o.a.optional(b,{}),issue:o.a.optional(O,{}),todo:o.a.optional(I,{}),todoArchive:o.a.optional(n,{}),doc:o.a.optional(w,{}),chart:o.a.optional(u,{}),subscription:o.a.optional(y,{}),page:o.a.optional(p,{})});e.a=p}}]);